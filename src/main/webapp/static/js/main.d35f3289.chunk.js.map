{"version":3,"sources":["initialData.js","useLocalStorage.js","dataContext.js","node.js","edge.js","graphWithLabels.js","home.js","dashboard.js","settings.js","notfound.js","App.js","index.js"],"names":["linksMap","initialData","originalNodesMap","a","x","y","key","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","originalLinks","sourceKey","targetKey","useLocalStorage","initialValue","_useState","useState","item","window","localStorage","getItem","itemValue","JSON","parse","data","updatedLinks","map","link","source","target","concat","links","indexedNodes","Object","values","node","index","nodes","postProcessData","error","console","log","_useState2","slicedToArray","storedValue","setStoredValue","value","valueToStore","Function","setItem","stringify","DataContext","createContext","DataProvider","_ref","children","activeNodeIndex","setActiveNodeIndex","_useState3","_useState4","dragging","setDragging","_useState5","_useState6","coordinates","setCoordinates","_useState7","_useState8","origin","setOrigin","_useState9","_useState10","nodeOrigin","setNodeOrigin","_useLocalStorage","_useLocalStorage2","bestRoute","setBestRoute","_useLocalStorage3","_useLocalStorage4","graphData","setGraphData","_useLocalStorage5","_useLocalStorage6","zoomFactor","setZoomFactor","_useLocalStorage7","_useLocalStorage8","sourceNodeKey","setSourceNodeKey","_useLocalStorage9","_useLocalStorage10","targetNodeKey","setTargetNodeKey","react_default","createElement","Provider","Node","props","appData","useContext","nodeColor","handleMouseDown","preventDefault","touchEvent","changedTouches","length","clientX","clientY","handleMouseUp","style","userSelect","onTouchStart","onTouchEnd","onMouseDown","onMouseUp","fill","dy","dx","fontFamily","Edge","midX","midY","x1","y1","x2","y2","Math","sqrt","pow","toFixed","strokeWidth","stroke","color","strokeOpacity","textAnchor","label","GraphWithLabels","width","height","updateEdges","edges","forEach","edge","edgeKey","handleOnMouseMove","xMove","yMove","x0","y0","nodeXValues","nodeYValues","graphHeight","max","apply","toConsumableArray","min","graphWidth","onClick","undefined","scenarioData","originNode","destinationNode","axios","post","then","response","clear","location","reload","viewBox","onTouchMove","onMouseMove","onMouseLeave","Graph","graph","nodeComponent","linkComponent","Home","innerWidth","innerHeight","graphWithLabels","Dashboard","id","className","react_router_dom","exact","to","this","React","Component","Settings","Notfound","App","dataContext_DataProvider","dashboard_Dashboard","react_router","path","component","rootElement","document","getElementById","ReactDOM","render","src_App_0"],"mappings":"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","file":"static/js/main.d35f3289.chunk.js","sourcesContent":["const scaleFactor = 100;\r\nexport const initialZoomFactor = 1.0;\r\nconst originalNodesMap = {\r\n  a: { x: 1 * scaleFactor, y: 1 * scaleFactor, key: \"a\" },\r\n  b: { x: 2 * scaleFactor, y: 0.4 * scaleFactor, key: \"b\" },\r\n  c: { x: 3 * scaleFactor, y: 1 * scaleFactor, key: \"c\" },\r\n  d: { x: 1.7 * scaleFactor, y: 1.95 * scaleFactor, key: \"d\" },\r\n  e: { x: 2 * scaleFactor, y: 1.79941 * scaleFactor, key: \"e\" },\r\n  f: { x: 2.8835 * scaleFactor, y: 3.9827 * scaleFactor, key: \"f\" },\r\n  g: { x: 0.998 * scaleFactor, y: 4 * scaleFactor, key: \"g\" },\r\n  h: { x: 1.053 * scaleFactor, y: 5.59554 * scaleFactor, key: \"h\" },\r\n  i: { x: 4 * scaleFactor, y: 0.7 * scaleFactor, key: \"i\" },\r\n  j: { x: 3.4 * scaleFactor, y: 2.1 * scaleFactor, key: \"j\" },\r\n  k: { x: 5 * scaleFactor, y: 1 * scaleFactor, key: \"k\" },\r\n  l: { x: 3.3 * scaleFactor, y: 3.104 * scaleFactor, key: \"l\" },\r\n  m: { x: 4.779 * scaleFactor, y: 4 * scaleFactor, key: \"m\" },\r\n  n: { x: 4.5 * scaleFactor, y: 4.5 * scaleFactor, key: \"n\" },\r\n  o: { x: 5.7 * scaleFactor, y: 4.9 * scaleFactor, key: \"o\" },\r\n  p: { x: 4.7 * scaleFactor, y: 5.8 * scaleFactor, key: \"p\" },\r\n  q: { x: 5.9 * scaleFactor, y: 5.9 * scaleFactor, key: \"q\" },\r\n  r: { x: 3.7 * scaleFactor, y: 4 * scaleFactor, key: \"r\" }\r\n};\r\nconst initialData = {\r\n  originalNodesMap: originalNodesMap,\r\n  originalLinks: [\r\n    { sourceKey: \"a\", targetKey: \"b\" },\r\n    { sourceKey: \"b\", targetKey: \"c\" },\r\n    { sourceKey: \"c\", targetKey: \"l\" },\r\n    { sourceKey: \"b\", targetKey: \"d\" },\r\n    { sourceKey: \"d\", targetKey: \"e\" },\r\n    { sourceKey: \"e\", targetKey: \"f\" },\r\n    { sourceKey: \"e\", targetKey: \"g\" },\r\n    { sourceKey: \"g\", targetKey: \"h\" },\r\n    { sourceKey: \"h\", targetKey: \"r\" },\r\n    { sourceKey: \"l\", targetKey: \"r\" },\r\n    { sourceKey: \"l\", targetKey: \"j\" },\r\n    { sourceKey: \"l\", targetKey: \"m\" },\r\n    { sourceKey: \"j\", targetKey: \"i\" },\r\n    { sourceKey: \"j\", targetKey: \"k\" },\r\n    { sourceKey: \"k\", targetKey: \"o\" },\r\n    { sourceKey: \"o\", targetKey: \"m\" },\r\n    { sourceKey: \"m\", targetKey: \"r\" },\r\n    { sourceKey: \"r\", targetKey: \"p\" },\r\n    { sourceKey: \"q\", targetKey: \"n\" },\r\n    { sourceKey: \"p\", targetKey: \"q\" }\r\n  ]\r\n};\r\n\r\nexport const initialSourceNodeKey = \"a\";\r\nexport const initialTargetNodeKey = \"q\";\r\n\r\nexport const linksMap = {};\r\n\r\n//postProcessData is data that can be used by what graph requires\r\n// Keeps object references to change data\r\nexport const postProcessData = data => {\r\n  const updatedLinks = data.originalLinks.map(link => {\r\n    link.source = data.originalNodesMap[link.sourceKey];\r\n    link.target = data.originalNodesMap[link.targetKey];\r\n    linksMap[`${link.sourceKey},${link.targetKey}`] = link;\r\n    linksMap[`${link.targetKey},${link.sourceKey}`] = link;\r\n    return link;\r\n  });\r\n  // We can now use updatedLinks\r\n  data.links = updatedLinks;\r\n\r\n  const nodes = Object.values(data.originalNodesMap);\r\n  const indexedNodes = nodes.map((node, index) => {\r\n    node.index = index; // This creates index attribute in the existing node object\r\n    return node;\r\n  });\r\n  //We can now use indexedNodes\r\n  data.nodes = indexedNodes;\r\n  return data;\r\n};\r\nexport default initialData;\r\n","//Creates a react hook to persist data in local storage.\r\n\r\nimport { useState } from \"react\";\r\nimport { postProcessData } from \"./initialData\";\r\n\r\n//-------taken from https://usehooks.com/useLocalStorage/ --------------\r\n/**\r\n * Set-up application state variable to be persisted in local storage\r\n * @param {String} key - local storage key\r\n * @param {*} initialValue - initial value when local storage is not available\r\n */\r\nconst useLocalStorage = (key, initialValue) => {\r\n  // State to store our value\r\n  // Pass initial state function to useState so logic is only executed once\r\n  const [storedValue, setStoredValue] = useState(() => {\r\n    try {\r\n      // Get from local storage by key\r\n      const item = window.localStorage.getItem(key);\r\n\r\n      // Parse stored json or if none return initialValue\r\n      const itemValue = item ? JSON.parse(item) : initialValue;\r\n\r\n      // Optionally post process data\r\n      const postProcessedItemValue =\r\n        key === \"initialData\" ? postProcessData(itemValue) : null;\r\n      return postProcessedItemValue || itemValue;\r\n\r\n    } catch (error) {\r\n      // If error also return initialValue\r\n      console.log(error);\r\n      return initialValue;\r\n    }\r\n  });\r\n\r\n  // Return a wrapped version of useState's setter function that ...\r\n  // ... persists the new value to localStorage.\r\n  const setValue = value => {\r\n    try {\r\n      // Allow value to be a function so we have same API as useState\r\n      const valueToStore =\r\n        value instanceof Function ? value(storedValue) : value;\r\n      // Save state\r\n      setStoredValue(valueToStore);\r\n      // Save to local storage\r\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\r\n    } catch (error) {\r\n      // A more advanced implementation would handle the error case\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return [storedValue, setValue];\r\n};\r\nexport default useLocalStorage;\r\n// -----------------------------------------------------------------------\r\n","//dataContext is needed for providing the context and\r\n// provide it for consumption\r\n\r\nimport React, { createContext, useState } from \"react\";\r\nimport initialData, {\r\n  initialSourceNodeKey,\r\n  initialTargetNodeKey,\r\n  initialZoomFactor\r\n} from \"./initialData\";\r\nimport useLocalStorage from \"./useLocalStorage\";\r\n\r\nexport const DataContext = createContext();\r\n\r\n// This context provider is passed to any component requiring the context\r\nexport const DataProvider = ({ children }) => {\r\n  //const [activeNode, setActiveNode] = useState(null);\r\n  const [activeNodeIndex, setActiveNodeIndex] = useState(-1);\r\n  const [dragging, setDragging] = useState(false);\r\n  const [coordinates, setCoordinates] = useState({ x: 0, y: 0 });\r\n  const [origin, setOrigin] = useState({ x: 0, y: 0 });\r\n  const [nodeOrigin, setNodeOrigin] = useState({ x: 0, y: 0 });\r\n  const [bestRoute, setBestRoute] = useLocalStorage(\"bestRoute\", []);\r\n\r\n  // The high-level information about the scenario\r\n  const [graphData, setGraphData] = useLocalStorage(\"initialData\", initialData);\r\n  const [zoomFactor, setZoomFactor] = useLocalStorage(\r\n    \"zoomFactor\",\r\n    initialZoomFactor\r\n  );\r\n  const [sourceNodeKey, setSourceNodeKey] = useLocalStorage(\r\n    \"sourceNodeKey\",\r\n    initialSourceNodeKey\r\n  );\r\n  const [targetNodeKey, setTargetNodeKey] = useLocalStorage(\r\n    \"targetNodeKey\",\r\n    initialTargetNodeKey\r\n  );\r\n\r\n  return (\r\n    <DataContext.Provider\r\n      value={{\r\n        // activeNode,\r\n        // setActiveNode,\r\n        dragging,\r\n        setDragging,\r\n        coordinates,\r\n        setCoordinates,\r\n        origin,\r\n        setOrigin,\r\n        graphData,\r\n        setGraphData,\r\n        nodeOrigin,\r\n        setNodeOrigin,\r\n        activeNodeIndex,\r\n        setActiveNodeIndex,\r\n        bestRoute,\r\n        setBestRoute,\r\n        sourceNodeKey,\r\n        setSourceNodeKey,\r\n        targetNodeKey,\r\n        setTargetNodeKey,\r\n        zoomFactor,\r\n        setZoomFactor\r\n      }}\r\n    >\r\n      {children}\r\n    </DataContext.Provider>\r\n  );\r\n};\r\n","import React, { useContext } from \"react\";\r\nimport { DataContext } from \"./dataContext\";\r\n\r\n// const handleNodeClick = (node, appData) => {\r\n//   //appData.setActiveNode(node);\r\n// };\r\nconst Node = props => {\r\n  const { node } = props;\r\n  const appData = useContext(DataContext);\r\n  const activeNodeIndex = node.index;\r\n\r\n  // console.log(\r\n  //   \"node.key: \",\r\n  //   node.key,\r\n  //   \" appData.sourceNodeKey: \",\r\n  //   appData.sourceNodeKey,\r\n  //   \" appData.targetNodeKey: \",\r\n  //   appData.targetNodeKey\r\n  // );\r\n  const nodeColor =\r\n    node.key === appData.sourceNodeKey\r\n      ? \"green\"\r\n      : node.key === appData.targetNodeKey\r\n      ? \"red\"\r\n      : \"#21D4FD\";\r\n\r\n  const handleMouseDown = e => {\r\n    e.preventDefault();\r\n    const touchIsEnabled = e.changedTouches && e.changedTouches.length;\r\n    const touchEvent = touchIsEnabled ? e.changedTouches[0] : e;\r\n    // Record our starting point.\r\n    appData.setOrigin({ x: touchEvent.clientX, y: touchEvent.clientY });\r\n    appData.setActiveNodeIndex(activeNodeIndex);\r\n\r\n    appData.setNodeOrigin({\r\n      x: node.x,\r\n      y: node.y\r\n    });\r\n    appData.setDragging(true);\r\n  };\r\n\r\n  const handleMouseUp = e => {\r\n    appData.setDragging(false);\r\n    appData.setActiveNodeIndex(-1);\r\n  };\r\n\r\n  return (\r\n    <g\r\n      // onClick={() => handleNodeClick(node, appData)}\r\n      style={{ userSelect: \"none\" }}\r\n      onTouchStart={handleMouseDown}\r\n      onTouchEnd={handleMouseUp}\r\n      onMouseDown={handleMouseDown}\r\n      onMouseUp={handleMouseUp}\r\n    >\r\n      <circle r={15} fill={nodeColor} />\r\n      <text dy={2} dx={18} fill=\"white\" fontFamily=\"arial\">\r\n        {`${node.key} (${node.x}, ${node.y})`}\r\n      </text>\r\n    </g>\r\n  );\r\n};\r\nexport default Node;\r\n","import React from \"react\";\r\n\r\nconst Edge = props => {\r\n  const { link } = props;\r\n  if (!link.source) {\r\n    console.error(\"Link source does not exist\", link);\r\n    return \"\";\r\n  }\r\n  if (!link.target) {\r\n    console.error(\"Link target does not exist\", link);\r\n    return \"\";\r\n  }\r\n  const midX = (link.source.x + link.target.x) / 2;\r\n  const midY = (link.source.y + link.target.y) / 2;\r\n  const x1 = link.source.x;\r\n  const y1 = link.source.y;\r\n  const x2 = link.target.x;\r\n  const y2 = link.target.y;\r\n  const length = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2)).toFixed(\r\n    0\r\n  );\r\n  //console.log(\"Link-color: \", link.color);\r\n  return (\r\n    <g>\r\n      <line\r\n        x1={x1}\r\n        y1={y1}\r\n        x2={x2}\r\n        y2={y2}\r\n        strokeWidth={2}\r\n        stroke={link.color || \"#999\"}\r\n        strokeOpacity={0.6}\r\n      />\r\n      <text\r\n        textAnchor=\"middle\"\r\n        dy={midY - 4}\r\n        dx={midX}\r\n        fill=\"steelblue\"\r\n        fontFamily=\"arial\"\r\n      >\r\n        {`${link.label} (${length})`}\r\n      </text>\r\n    </g>\r\n  );\r\n};\r\n\r\nexport default Edge;\r\n","import React, { useContext } from \"react\";\r\nimport { DataContext } from \"./dataContext\";\r\nimport { Graph } from \"@vx/network\";\r\nimport Node from \"./node\";\r\nimport Edge from \"./edge\";\r\nimport axios from \"axios\";\r\nimport { linksMap } from \"./initialData\";\r\n\r\nconst GraphWithLabels = ({ width, height }) => {\r\n  const appData = useContext(DataContext);\r\n  const graphData = appData.graphData;\r\n  const activeNodeIndex = appData.activeNodeIndex;\r\n\r\n  const updateEdges = (edges, color) => {\r\n    edges.forEach(edge => {\r\n      const edgeKey = `${edge.sourceKey},${edge.targetKey}`;\r\n      const link = linksMap[edgeKey];\r\n      link.color = color;\r\n      //console.log(\"Edgekey: \", edgeKey, \"color: \", color,  \"link.color: \", link.color);\r\n    });\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    //clear selected edges before computing new best route\r\n    updateEdges(appData.bestRoute, undefined);\r\n    appData.setBestRoute([]);\r\n    //console.log(\"appData.graph data\", appData.graphData);\r\n\r\n    const serviceUrl = \"/api/findRoute\";\r\n\r\n    const scenarioData = {\r\n      //request body AKA payload\r\n      edges: appData.graphData.links,\r\n      nodes: appData.graphData.nodes,\r\n      originNode: appData.sourceNodeKey,\r\n      destinationNode: appData.targetNodeKey\r\n    };\r\n    console.log(\"post request to\", serviceUrl, \"payload:\", scenarioData);\r\n    axios.post(serviceUrl, scenarioData).then(\r\n      response => {\r\n        console.log(\"Route data: \", response.data);\r\n\r\n        //Make selected edges red\r\n        updateEdges(response.data.edges, \"red\");\r\n        appData.setBestRoute(response.data.edges);\r\n        //this.props.history.push(\"/otherPage\");\r\n      },\r\n      error => {\r\n        console.error(error);\r\n      }\r\n    );\r\n  };\r\n  const handleReset = () => {\r\n    localStorage.clear();\r\n    window.location.reload(false);\r\n  };\r\n  //console.log(\"appData.graphData: \", appData.graphData);\r\n  const handleOnMouseMove = e => {\r\n    e.preventDefault();\r\n    if (appData.dragging) {\r\n      const touchIsEnabled = e.changedTouches && e.changedTouches.length;\r\n      const touchEvent = touchIsEnabled ? e.changedTouches[0] : e;\r\n      // Set state for the change in coordinates.\r\n      const xMove =\r\n        (touchEvent.clientX - appData.origin.x) / appData.zoomFactor;\r\n      const yMove =\r\n        (touchEvent.clientY - appData.origin.y) / appData.zoomFactor;\r\n\r\n      const x0 = appData.nodeOrigin.x;\r\n      const y0 = appData.nodeOrigin.y;\r\n      graphData.nodes[activeNodeIndex].x = x0 + xMove;\r\n      graphData.nodes[activeNodeIndex].y = y0 + yMove;\r\n      appData.setGraphData(graphData);\r\n      // tells react to redraw, allows for smooth movement of node\r\n      appData.setCoordinates({\r\n        x: xMove,\r\n        y: yMove\r\n      });\r\n    }\r\n  };\r\n\r\n  const nodeXValues = appData.graphData.nodes.map(node => {\r\n    return node.x;\r\n  });\r\n  const nodeYValues = appData.graphData.nodes.map(node => {\r\n    return node.y;\r\n  });\r\n  const graphHeight = Math.max(...nodeYValues) - Math.min(...nodeYValues) + 200;\r\n  const graphWidth = Math.max(...nodeXValues) - Math.min(...nodeXValues) + 200;\r\n  const zoomFactor = Math.min(width / graphWidth, height / graphHeight);\r\n  appData.setZoomFactor(zoomFactor);\r\n  console.log(zoomFactor);\r\n  return (\r\n    <div>\r\n      <button onClick={handleSubmit}>Submit</button>\r\n      <button onClick={handleReset}>Reset</button>\r\n      <div>\r\n        <svg\r\n          width={width}\r\n          height={height}\r\n          viewBox={`0 0 ${width / zoomFactor} ${height / zoomFactor}`}\r\n          // width={width}\r\n          // height={height}\r\n          onTouchMove={handleOnMouseMove}\r\n          onMouseMove={handleOnMouseMove}\r\n          onMouseLeave={e => {\r\n            e.preventDefault();\r\n            appData.setDragging(false);\r\n            appData.setActiveNodeIndex(-1);\r\n          }}\r\n        >\r\n          <rect\r\n            width={width / zoomFactor}\r\n            height={height / zoomFactor}\r\n            fill=\"black\"\r\n          />\r\n          <Graph\r\n            graph={appData.graphData}\r\n            nodeComponent={Node}\r\n            linkComponent={Edge}\r\n          />\r\n        </svg>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GraphWithLabels;\r\n","import React from \"react\";\r\nimport GraphWithLabels from \"./graphWithLabels\";\r\n\r\nconst Home = () => {\r\n  const width = window.innerWidth - 30;\r\n  const height = window.innerHeight - 50;\r\n  return (\r\n    <div style={{ width, height }}>\r\n      <GraphWithLabels width={width} height={height} />\r\n    </div>\r\n  );\r\n};\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport \"./App.css\";\r\n\r\nexport default class Dashboard extends React.Component {\r\n  render() {\r\n    return (\r\n      <div id=\"dashboard\">\r\n        <div className=\"menu\">\r\n          <NavLink exact to=\"/\">\r\n            Home\r\n          </NavLink>\r\n          <NavLink exact to=\"/settings\">\r\n            Settings\r\n          </NavLink>\r\n        </div>\r\n        <div className=\"content\">{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { DataContext } from \"./dataContext\";\r\n\r\nconst Settings = () => {\r\n  const appData = useContext(DataContext);\r\n  return (\r\n    <div>\r\n      <h1>Settings</h1>\r\n    </div>\r\n  );\r\n};\r\nexport default Settings;\r\n","import React from \"react\";\r\n\r\nexport default class Notfound extends React.Component {\r\n  render() {\r\n    return <h1>not found!</h1>;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\n\r\nimport Home from \"./home\";\r\nimport Dashboard from \"./dashboard\";\r\nimport Settings from \"./settings\";\r\nimport Notfound from \"./notfound\";\r\nimport { DataProvider } from \"./dataContext\";\r\n\r\nimport \"./App.css\";\r\n\r\nconst App = () => {\r\n  \r\n  return (\r\n    <div id=\"app\">\r\n      <DataProvider>\r\n        <BrowserRouter>\r\n          <Dashboard>\r\n            <Switch>\r\n              <Route exact path=\"/\" component={Home} />\r\n              <Route exact path=\"/settings\" component={Settings} />\r\n              <Route component={Notfound} />\r\n            </Switch>\r\n          </Dashboard>\r\n        </BrowserRouter>\r\n      </DataProvider>\r\n    </div>\r\n  );\r\n};\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}